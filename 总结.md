+ 安全

  + XSS

    + 原理

      + 攻击者像页面中插入恶意代码
    + 非持久

      + 方法

        + url参数中带有恶意代码
        + 诱骗用户点击
    + 持久型

      + 方法
        + 存在于表单交互中，攻击者将攻击代码存入数据库中
        + 获取数据进行渲染时，发起攻击
    + 防御
      + 尽量控制页面渲染所有内容必须来源于服务器
      + 尽量不要从URL，document.referrer等这种DOM API中获取数据直接渲染
      + 尽量不要用eval、new Function 等可执行字符串的方法。
      + 对涉及DOM渲染的方法传入的字符串做转义
        + 由于富文本的原因，使用白名单过滤
        + 保留正常html标签，过滤非法标签
      + cookie 设置为 HttpOnly后端对用户输入做转义
      + 后端接收表单输入时进行转义，后端取数据再进行一次转义 TODO 疑问
      + 开启CSP（Content Security Policy）
        + 设置方式（header、meta）
        + 设置规则
          + 必须https
          + script style 不可内联
          + script style image font等指定加载域名
          + <span style="color:red;">单独追加内联 ？？？ TODO</span>
  + CSRF
    + 原理
      + 跨站请求伪造，利用已登录的身份，在第三方网站完成攻击
    + 防御

      + 对cookie设置SameSite属性，支持不好
      + 检查Referrer，不能完全依赖
      + 验证码，降低用户体验
      + 请求页面，或者请求接口，向cookie中添加token，post提交时，将cookie中的token回传，服务端校验
  + 点击劫持
    + 原理
      + 用户登录系统后，进入第三方网站，通过iframe引入原网站，并设置为透明，透露出一个按钮，诱导用户点击
    + 防御
      + 响应头：X-FRAME-OPTIONS
        + DENY，表示页面不允许通过 iframe 的方式展示
        + SAMEORIGIN，表示页面可以在相同域名下通过 iframe 的方式展示
        + ALLOW-FROM，表示页面可以在指定来源的 iframe 中展示
      + 通过JS判断当前是通过iframe打开，将页面隐藏
  + URL跳转漏洞
    + 原理
      + 原本的正常连接需要接受一个url参数，用于跳转
      + 攻击者通过这个参数传递恶意网站地址给用户
    + 防御
      + 通过 Referrer判断来源，只有正确的来源才会跳转
      + 给每个可以跳转的连接增加token，验证token的正确性才会跳转
  + DNS劫持
    + 防御
      + 全链路Https
      + https和http同时存在的时候会出现劫持现象
        + 资源去除js后缀
        + SRI 子资源完整性 
          + scriyt、style 标签上添加integrity属性，设置当前文件hash值
          + script 加上onerror监测劫持情况
  + SQL注入
    + 防御
      + 后端转码
  + 

+ webpack

  + 最新版本
  + 写点有价值的loader，promise
    + **自动添加catch**
  + **写点插件玩**

+ Https -- -- - -- - - - 在看看书

  + **对称加密**
    + 客户端生成自己的秘钥
    + 服务器生成自己的秘钥
    + 客户端和服务器交换秘钥
    + 利用交换后的秘钥进行传输
    + 第三方可以获取秘钥，容易破解
  + **非对称加密**
    + 客户端发送给服务器一系列加密方法
    + 服务器返回加密方法和公钥
    + 客户端利用公钥加密传输数据，服务器利用私钥进行解密
    + 服务器利用私钥加密传输数据，客户端利用公钥进行解密
    + 效率比较低
    + 中间人可以获取公钥对服务器，无法保证服务器发送给浏览器的数据安全
  + 对称加密 & 非对称加密 -- 相结合
    + 依然存在服务器是被第三方冒充的情况
  + 数字证书
    + 服务器用于证明自己的身份，使用权威机构颁发的证书（CA）
      + 通过CA像浏览器证明自己的身份
      + 数字证书中包含了服务器的公钥

+ Http2

  + 头部压缩
    + 将常见头信息映射成编号代替
    + 哈夫曼编码进行压缩
  + 服务端推送
    + 可能会有缓存问题，无法控制
    + 没想到目前的应用场景
  + 多路复用
    + 请求通过一个TCP连接并发完成
    + 1.1中多个请求，必须使用多个TCP连接
    + 1.1中单个域名有6-8个TCP连接限制

+ 缓存

  + 对比缓存
  + 强制缓存
  + pwa
  + 浏览器自身的缓存

+ 微服务

+ 脚手架

+ 组件共用

  + 放入npm，使用git

+ 响应式网页

+ Git分支操作，提交hooks

  + https://mp.weixin.qq.com/s/i1sVkgNqW_TfYpapLUoa3Q
  + 王冲的两本pdf

+ 架构是什么

  + 提供更好封装来适应或者满足更多的业务需求
  + 将通用业务逻辑封装起来，对实际使用者来说，更少的关心技术层面和通用业务逻辑，将精力放到特定的业务需求中
  + 核心是约束，让开发者在特定的规则内进行开发，哪怕牺牲一点效率，去换取更好的团队合作效率
  + 因为在特定规则内开发，促进团队成员的可替换性，也方便扩容团队

+ 处理问题的能力

  + node 的controller封装
    + 针对客户端向node发起的，每个请求的整个生命周期，生成唯一实例，所有事件处理均基于唯一实例
  + redis
    + 缓存
      + 使用装饰器（cacheable 、cacheEvict）
      + 缓存穿透（针对空值进行处理）
      + 缓存击穿（缓存失效-同时请求）
        + 使用分布式锁
      + 缓存雪崩（大量缓存同时失效）
        + 缓存永不过期
    + 分布式锁
      + 锁库存
    + 定时任务
      + 封装了Task模块，用于监听接收redis抛出的过期消息
  + grunt的增量打包已经生成hash值
    + requireJs 修改源代码
  + tgos 异常接口封装
    + 
  + 权限控制

+ 算法

  + 菲波那切数列 f(n) = f(n-1) + f(n-2)  &&  f(1) = 1 / f(2) = 1
    + 需要使用记忆函数

+ Webpack tree-shaking 原理   TODO

  + 因为ES6的模块系统
  + 实现了静态分析

+ TypeScript有哪些JavaScript中没有的类型

  + 联合类型

    + 避免在类型上限制太死

  + 元组

    + ```ts
      let x: [string, number] = ['hello', 10];;
      ```

  + 枚举

    + ```ts
      enum Color {Red, Green, Blue}
      ```

  + any

  + void

  + never

  + 接口

  + 抽象类

  + 泛型

  + ES中还没定稿的**装饰器**

+ 性能优化

  + 一次新更改style，现在浏览器应该都有优化
  + 避免多次读取offset，可以放到一个变量之中
  + 复杂元素，使用绝对定位或固定定位，脱离文档流
  + defer 延迟执行
  + async 异步执行
  + 使用字体或者svg（矢量图，放大无失真）
  + 减少对cookie的使用
  + 尾递归

+ 单元测试 & E2E

  + 单元测试的目的是为了发现隐藏的问题
  + 迭代升级时，可以通过重走一遍单元测试，来确定是否对之前的逻辑有影响
  + 反向影响代码的实现，使代码的实现是经过良好设计的，是易于测试的，是解耦的
  + 方便其他人快速理解代码，通过单元测试，大概看出来内部实现了什么
  + 公共组件、公共函数，单元测试率尽可能多
  + 业务代码，不做特别强制的要求
    + 有时间就写，没时间就不行
    + 良好的代码规范，强制性的lint，强化代码审查，将不健壮的代码挡在review阶段
    + 时间少，没办法写单元测试，加大review的力度
  + TDD 测试驱动开发，先写测试，后写代码

